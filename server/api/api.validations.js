'use strict'

const Joi = require('joi')

const validations = {
  // Games list validation
  listGames: {
    payload: Joi.object({
      currency: Joi.string().required(),
      agent_id: Joi.string().required()
    }),
    options: { allowUnknown: true }
  },

  // Single login validation
  singleLogin: {
    payload: Joi.object({
      agent_id: Joi.string().required().description('Agent ID/Merchant'),
      game_id: Joi.string().required().description('Hotdog game ID'),
      player_id: Joi.string().required().description('Player ID from Agent'),
      session_id: Joi.string().required().description('Unique session ID generated by Agent'),
      language: Joi.string().required().description('Language code'),
      currency: Joi.string().required().description('Currency code'),
      return_url: Joi.string().uri().optional().description('Redirect URL when player exits game')
    }),
    options: { allowUnknown: true }
  },

  generateSignature: {
    payload: Joi.object({
      return_url: Joi.string().allow('').optional().description('Return URL'),
      game_id: Joi.string().optional().description('Game ID'),
      // Allow additional fields
      [Joi.string()]: Joi.any().optional()
    }).min(1).description('Request payload for signature generation'),
    options: {
      allowUnknown: true
    }
  }
}

module.exports = validations 